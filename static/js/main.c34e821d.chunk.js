(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{22:function(n,e,t){"use strict";t.r(e);var c,a,i,o,r,s,j,b,d,u,l,p,O,h=t(0),x=t(9),f=t.n(x),m=t(4),g=t(2),v=t(3),y=t(1),S="https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc",k=v.a.div(c||(c=Object(g.a)(["\n  width: 500px;\n  margin: 0 auto;\n"]))),w=v.a.h1(a||(a=Object(g.a)(["\n  color: #333;\n"]))),z=v.a.form(i||(i=Object(g.a)(["\n  margin-top: 16px;\n"]))),J=v.a.textarea(o||(o=Object(g.a)(["\n  display: block;\n  width: 100%;\n  height: 150px;\n"]))),A=v.a.button(r||(r=Object(g.a)(["\n  margin-top: 8px;\n"]))),D=v.a.div(s||(s=Object(g.a)(["\n  margin-top: 8px;\n"]))),E=v.a.div(j||(j=Object(g.a)(["\n  border: 1px solid black;\n  border-radius: 5px;\n  padding: 8px 16px;\n\n  & + & {\n    margin-top: 8px;\n  }\n"]))),L=v.a.div(b||(b=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),N=v.a.div(d||(d=Object(g.a)(["\n  color: blue;\n  font-size: 16px;\n"]))),_=v.a.div(u||(u=Object(g.a)([""]))),B=v.a.div(l||(l=Object(g.a)(["\n  font-size: 16px;\n  margin-top: 16px;\n"]))),C=v.a.div(p||(p=Object(g.a)(["\n  margin-top: 16px;\n  color: red;\n"]))),F=v.a.div(O||(O=Object(g.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content center;\n"])));function I(n){var e=n.author,t=n.time,c=n.children;return Object(y.jsxs)(E,{children:[Object(y.jsxs)(L,{children:[Object(y.jsx)(N,{children:e}),Object(y.jsx)(_,{children:t})]}),Object(y.jsx)(B,{children:c})]})}var P=function(){var n=Object(h.useState)(null),e=Object(m.a)(n,2),t=e[0],c=e[1],a=Object(h.useState)(null),i=Object(m.a)(a,2),o=i[0],r=i[1],s=Object(h.useState)(),j=Object(m.a)(s,2),b=j[0],d=j[1],u=Object(h.useState)(null),l=Object(m.a)(u,2),p=l[0],O=l[1],x=Object(h.useState)(!1),f=Object(m.a)(x,2),g=f[0],v=f[1],E=function(){return fetch(S).then((function(n){return n.json()})).then((function(n){c(n)})).catch((function(n){r(n.message)}))};return Object(h.useEffect)((function(){E()}),[]),Object(y.jsxs)(k,{children:[g&&Object(y.jsx)(F,{children:"Loading..."}),Object(y.jsx)(w,{children:"\u7559\u8a00\u677f"}),Object(y.jsxs)(z,{onSubmit:function(n){n.preventDefault(),g||(v(!0),fetch(S,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"123",body:b})}).then((function(n){return n.json()})).then((function(n){v(!1),0!==n.ok?(d(""),E()):O(n.message)})).catch((function(n){v(!1),O(n.message)})))},children:[Object(y.jsx)(J,{value:b,onChange:function(n){d(n.target.value)},onFocus:function(){O(null)}}),Object(y.jsx)(A,{children:"Submit"}),p&&Object(y.jsx)(C,{children:p})]}),o&&Object(y.jsx)(C,{children:o.toString()}),t&&0===t.length&&Object(y.jsx)("div",{children:"No message"}),Object(y.jsx)(D,{children:t&&t.map((function(n){return Object(y.jsx)(I,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})};f.a.render(Object(y.jsx)(P,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.c34e821d.chunk.js.map